# 线程

## 线程生命周期

* NEW: 对象创建, 此时操作系统中线程还没被创建.
* RUNNABLE: 可运行或正在运行.
* BLOCKED: 等待synchronized锁.
* WAITING: 无限等待, 例如调用`join`等待其他线程结束.
* TIMED_WAITING: 限时等待, 例如调用`sleep`休眠一段时间.
* TERMINATED: 终止.

## 线程池

### 参数

* 核心线程数: 每秒任务数(80%分位点) * 任务平均耗时.
* 阻塞队列长度: 核心线程每秒处理的任务数 * 最大等待时间.
* 非核心线程数: (每秒任务数(95%分位点) - 阻塞队列长度) * 任务平均耗时.
* 空闲时间: 非核心线程最大空闲时间, 超时后销毁.
* 拒绝策略: 放弃任务、抛出异常、丢弃阻塞队列中的任务.

### 任务处理流程

![1](https://img.axlis.cn/note/Java/1.png)
